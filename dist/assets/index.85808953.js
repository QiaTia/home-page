import{N as y,o as e,h as D,c as w,y as B,a as h,S as x,B as f,n as d,d as C}from"./index.8f8765f3.js";import{D as k}from"./dragger.c2a77945.js";function v(){return new Worker("/assets/worker.25438113.js")}function F(t){const{ref:a,style:u,className:o,value:r,autoSize:p,...i}=t,c=a||B();return D(()=>{c.current.value=r},[c,r]),e("div",{style:u,className:w("el-input textarea",o==null?void 0:o.toString()),children:e("textarea",{...i,ref:c})})}const I=y((t,a)=>e(F,{ref:a,...t}));function T(t){const{ref:a,style:u,className:o,...r}=t,p=a||B();return e("div",{style:u,className:w("el-input",o==null?void 0:o.toString()),children:e("input",{...r,ref:p})})}const b=y((t,a)=>e(T,{ref:a,...t}));b.TextArea=I;b.LIST_IGNORE="";const S=b;const m=new v,R=()=>{const[t,a]=h(""),[u,o]=h(!1),r=()=>{const n=t;if(window.clipboardData)window.clipboardData.clearData(),clipboardData.setData("Text",n),d.success("\u5DF2\u590D\u5236\u5185\u5BB9\u5230\u526A\u8F91\u7248!");else if(document.execCommand("copy")){const s=document.createElement("input");s.value=n,document.body.appendChild(s),s.select(),document.execCommand("Copy"),s.remove(),d.success("\u5DF2\u590D\u5236\u5185\u5BB9\u5230\u526A\u8F91\u7248!")}else d.error("\u590D\u5236\u5931\u8D25, \u8BF7\u624B\u52A8\u590D\u5236!")},p=n=>{a(n.target.value)},i=(n,s="btoa")=>{o(!0),m.postMessage({payload:n,event:s})};function c(n){const[s]=n;o(!0),m.postMessage({payload:s,event:"ftob"})}return D(function(){return m.onmessage=function(n){const{event:s,payload:g,error:l}=n.data;if(o(!1),l)return console.log(l),d.error(typeof l=="string"?l:"\u89E3\u6790\u5931\u8D25, \u8BF7\u68C0\u67E5\u8F93\u5165\u7684\u5185\u5BB9!"),l;switch(console.log(n.data),s){case"ftob":case"btoa":case"atob":a(g);break;case"btof":{n.data.notify&&d(n.data.notify),C(g),console.log(g);break}}},()=>m.onmessage=null},[]),e("div",{className:"container flex-algin flex-column",style:{padding:"60px 0"},children:[e(x,{spinning:u,tip:"Loading...",children:e(k,{onFile:c,style:{padding:"0 20px"}})}),e(x,{spinning:u,tip:"Loading...",children:e("div",{className:"base64-wrap",children:[e(S.TextArea,{className:"textarea",onInput:p,value:t,placeholder:"Input base64 code to string",rows:10,autoSize:{minRows:4,maxRows:10}}),e("div",{className:"base64-footer",children:[e(f,{onClick:r,children:"Copy Content"}),e(f,{onClick:()=>i(t),children:"To Base64"}),e(f,{onClick:()=>i(t,"atob"),children:"To String"}),e(f,{onClick:()=>i(t,"btof"),children:"To File"})]})]})})]})};export{R as default};
